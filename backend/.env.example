# BloombergGPT Backend Environment Variables

# ═══════════════════════════════════════════════════════════════════════
# Database Configuration
# ═══════════════════════════════════════════════════════════════════════
DATABASE_URL=postgresql://semantic:semantic@localhost:5433/semantic_markets
DB_POOL_MIN_SIZE=1
DB_POOL_MAX_SIZE=10
DB_POOL_TIMEOUT=5.0

# ═══════════════════════════════════════════════════════════════════════
# API Keys
# ═══════════════════════════════════════════════════════════════════════

# OpenAI (required for embeddings)
OPENAI_API_KEY=sk-...
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIM=3072
OPENAI_EMBED_TIMEOUT=15.0
MAX_EMBED_RETRIES=3

# Anthropic Claude (optional - for event analysis)
ANTHROPIC_API_KEY=sk-ant-...

# Google Gemini (optional - for fast classification)
GEMINI_API_KEY=...
# or
GOOGLE_API_KEY=...

# ═══════════════════════════════════════════════════════════════════════
# Performance & Feature Flags
# ═══════════════════════════════════════════════════════════════════════

# Disable automatic ingestion on startup (useful during development)
# Set to "true" to skip RSS/crypto ingestion when the backend starts
# This dramatically speeds up development server restarts
# Default: false (ingestion runs on startup)
DISABLE_STARTUP_INGESTION=true

# Disable NFL Elo ingestion (if you don't need sports data)
DISABLE_NFL_ELO_INGEST=false

# ═══════════════════════════════════════════════════════════════════════
# Scheduler Intervals (in hours)
# ═══════════════════════════════════════════════════════════════════════
RSS_INGEST_INTERVAL_HOURS=1
CRYPTO_BACKFILL_INTERVAL_HOURS=24
EQUITY_BACKFILL_INTERVAL_HOURS=24
NFL_ELO_BACKFILL_INTERVAL_HOURS=24
BAKER_PROJECTIONS_INTERVAL_HOURS=1

# ═══════════════════════════════════════════════════════════════════════
# Ingestion Configuration
# ═══════════════════════════════════════════════════════════════════════
MAX_FETCH_RETRIES=3
FETCH_TIMEOUT=10
MAX_DOWNLOAD_RETRIES=3

# ═══════════════════════════════════════════════════════════════════════
# Symbol Configuration (optional - defaults to BTC-USD, ETH-USD, XMR-USD)
# ═══════════════════════════════════════════════════════════════════════
# Format: SYMBOL:YAHOO_TICKER,SYMBOL:YAHOO_TICKER,...
# CRYPTO_SYMBOLS=BTC-USD:BTC-USD,ETH-USD:ETH-USD,XMR-USD:XMR-USD,SOL-USD:SOL-USD
# EQUITY_SYMBOLS=NVDA:NVDA,AAPL:AAPL,TSLA:TSLA

# ═══════════════════════════════════════════════════════════════════════
# Forecasting Parameters
# ═══════════════════════════════════════════════════════════════════════
FORECAST_DIRECTION_THRESHOLD=0.0005
FORECAST_CONFIDENCE_SCALE=2.0
EVENT_FORECAST_K_NEIGHBORS=25
EVENT_FORECAST_ALPHA=0.5
EVENT_FORECAST_LOOKBACK_DAYS=365
EVENT_FORECAST_PRICE_WINDOW=60
DEFAULT_HORIZON_MINUTES=1440
DEFAULT_LOOKBACK_DAYS=60

# ═══════════════════════════════════════════════════════════════════════
# API Configuration
# ═══════════════════════════════════════════════════════════════════════
API_MAX_EVENTS_LIMIT=200
API_MAX_NEIGHBORS_LIMIT=50
API_MAX_PROJECTIONS_LIMIT=50
MIN_HORIZON_MINUTES=1
MAX_HORIZON_MINUTES=43200
MIN_LOOKBACK_DAYS=1
MAX_LOOKBACK_DAYS=730

# ═══════════════════════════════════════════════════════════════════════
# NFL Team Configuration (optional)
# ═══════════════════════════════════════════════════════════════════════
# Format: ABBR:TARGET_ID,ABBR:TARGET_ID,...
# BAKER_TEAM_MAP=KC:NFL:KC_CHIEFS,DAL:NFL:DAL_COWBOYS,SF:NFL:SF_49ERS
